Open the Terminal :-> PS C:\Users\sksab\OneDrive\Desktop\my-shop-backend> npx create-nx-workspace@latest .

âˆš Which stack do you want to use? Â· node
âˆš What framework should be used? Â· express
âˆš Application name Â· auth-service
âˆš Would you like to generate a Dockerfile? [https://docs.docker.com/] Â· Yes
âˆš Which unit test runner would you like to use? Â· none
âˆš Would you like to use ESLint? Â· No
âˆš Would you like to use Prettier for code formatting? Â· No
âˆš Which CI provider would you like to use? Â· github

How to create the service ?
->nx g @nx/express:app api-gateway --directory=apps/api-gateway --e2eTestRunner=none --verbose

Only run the spefice service :-nx serve api-gateway

Why this command `npx prisma generate`?

Why this command `npx prisma db push'?


RESET THE NX :npx nx reset


===========================CHATER -2===================

1)How to install nextjs using nx ?
=>nx add @nx/next 
nx g @nx/next:app apps/user-ui

2)How to install backend ?
step:-1 nx g @nx/express:app product-service --directory=apps/product-service --e2eTestRunner=none

step:-2 -> https://youtu.be/X69A4c2Rg54?si=SbMie2KUSK2Feran(2:26:44)


3) Where should I store the access and refresh tokens? How does it work?
âœ… Store both tokens in HTTP-only cookies. These cookies are automatically sent with each request to your server, so you donâ€™t need to manually attach them in your frontend code.

====================================PUSH NOTIFICATION TOKEN=================
1)if want implement push notification it will generate in the forntend then 
we will store it into database .


=============================== AXIOS INTERCEPTOR NOTES ==================================

ğŸ¤” What is the purpose?
--------------------------------------------------------
âœ… This code will automatically get a new access token when the old one expires.
âœ… If any API call returns 401 (Unauthorized), it tries to refresh the token.
âœ… Then it repeats (retries) the failed request again with the new token.
âœ… User does not notice anything, no need to login again.

--------------------------------------------------------
ğŸ˜“ What happens if token expires?
--------------------------------------------------------
Imagine we called 5 APIs at the same time.
All 5 APIs return 401 (token expired).
Now each one will try to call /api/refresh-token.
That means refresh API will be called 5 times â€” BAD!

--------------------------------------------------------
ğŸ§  Why do we use:  isRefreshing = true ?
--------------------------------------------------------
We only want to call /refresh-token ONE time.
First time we get 401:
     - isRefreshing is false => we set isRefreshing = true.
     - We call /refresh-token.

While that refresh is going on:
     - All other requests see isRefreshing = true
     - They WAIT in a queue.
     - They do NOT call refresh again.

When refresh is successful:
     - isRefreshing becomes false again.
     - Now all waiting requests will automatically repeat.






ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥_______________BACKEND____________ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥




